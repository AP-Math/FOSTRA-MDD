<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8">
  <title>EtickÃ© podnikÃ¡nÃ­</title>
  <style>
    body { font-family: sans-serif; padding: 20px; background: #f2f2f2; }
    .stats { margin-bottom: 20px; }
    .decision { margin-top: 20px; }
    .btn { margin: 10px 0; padding: 10px 20px; background: #444; color: white; border: none; cursor: pointer; }
    .btn:hover { background: #333; }
    .hidden { display: none; }
  </style>
</head>
<body>

  <h1>EtickÃ© podnikÃ¡nÃ­</h1>

  <div class="stats">
    <p><strong>Zisk:</strong> <span id="zisk">0</span></p>
    <p><strong>Etika:</strong> <span id="etika">100</span> %</p>
    <p><strong>Riziko kolapsu:</strong> <span id="riziko">0</span> %</p>
  </div>

  <!-- Slide 1 -->
  <div id="slide1">
    <h2>RozhodnutÃ­ 1: BezpeÄnost</h2>
    <p>SnÃ­Å¾Ã­Å¡ vÃ½daje na poÅ¾Ã¡rnÃ­ bezpeÄnost a zdravotnÃ­ pÃ©Äi o zamÄ›stnance?</p>

    <div class="decision">
      <button class="btn" onclick="volba(true)">Ano â€“ uÅ¡etÅ™Ã­m, ale snÃ­Å¾Ã­m etiku</button>
      <button class="btn" onclick="volba(false)">Ne â€“ investuji, udrÅ¾Ã­m etiku</button>
    </div>
  </div>

  <div id="nextSlide" class="hidden">
    <button class="btn" onclick="jdiNaDalsi()">PokraÄovat</button>
  </div>

  <!-- Slide s Ãºkolem -->
  <div id="slideUkol" class="hidden">
    <h2>Ãškol: VÃ½poÄet</h2>
    <p>VypoÄÃ­tej: Pokud zamÄ›stnÃ¡Å¡ 20 dÄ›tÃ­ a kaÅ¾dÃ©mu platÃ­Å¡ 10 KÄ/hod a pracujÃ­ 10 hodin dennÄ›, kolik je to za den?</p>
    <input type="number" id="odpoved" placeholder="Zadej vÃ½sledek">
    <button class="btn" onclick="zpracujUkol()">Odeslat odpovÄ›Ä</button>
    <p id="vysledek"></p>
  </div>

  <!-- Slide PoÅ¾Ã¡rnÃ­ bezpeÄnost -->
  <div id="slidePozar" class="hidden">
    <h2>RozhodnutÃ­ 2: PoÅ¾Ã¡rnÃ­ bezpeÄnost</h2>
    <p>ChceÅ¡ investovat do zlepÅ¡enÃ­ poÅ¾Ã¡rnÃ­ bezpeÄnosti ve svÃ© tovÃ¡rnÄ›?</p>
    <div class="decision">
      <button class="btn" onclick="rozhodnutiPozar('investovat')">Ano â€“ bezpeÄnost na prvnÃ­m mÃ­stÄ›</button>
      <button class="btn" onclick="rozhodnutiPozar('setrit')">Ne â€“ uÅ¡etÅ™Ã­m</button>
    </div>
    <p id="zpravaPozar"></p>
  </div>

  <script>
    let zisk = 0;
    let etika = 100;
    let riziko = 0;

    function aktualizuj() {
      document.getElementById("zisk").textContent = zisk;
      document.getElementById("etika").textContent = etika;
      document.getElementById("riziko").textContent = riziko;
    }

   function volba(snizitBezpecnost) {
  // ZakÃ¡Å¾e vÅ¡echna tlaÄÃ­tka v tomto rozhodnutÃ­
  const tlacitka = document.querySelectorAll("#slide1 .btn");
  tlacitka.forEach(btn => btn.disabled = true);

  if (snizitBezpecnost) {
    zisk += 2000;
    etika -= 30;
    riziko += 20;
  } else {
    zisk += 500;
  }
  aktualizuj();
  document.getElementById("nextSlide").classList.remove("hidden");
}

    function jdiNaDalsi() {
      document.getElementById("slide1").classList.add("hidden");
      document.getElementById("nextSlide").classList.add("hidden");
      document.getElementById("slideUkol").classList.remove("hidden");
    }

   let spatnePokusy = 0;

function zpracujUkol() {
  const odpoved = parseInt(document.getElementById("odpoved").value, 10);
  const spravne = 20 * 10 * 10;
  const vysledek = document.getElementById("vysledek");

  if (odpoved === spravne) {
    vysledek.innerHTML = "âœ… <strong>BINGO!</strong> PokraÄuj dÃ¡l.";
    zisk += 2000;
    aktualizuj();

    // Po 2 vteÅ™inÃ¡ch pÅ™ejdi na dalÅ¡Ã­ slide
    setTimeout(() => {
      document.getElementById("slideUkol").classList.add("hidden");
      document.getElementById("slidePozar").classList.remove("hidden");
    }, 2000);

  } else {
    spatnePokusy++;
    zisk -= 500;
    aktualizuj();

    if (zisk < 0 || etika < 0) {
      alert("ğŸ’¥ Kaput. ZaÄni celÃ½ quest ÃºplnÄ› od zaÄÃ¡tku.");
      location.reload();
      return;
    }

    if (spatnePokusy < 3) {
      vysledek.innerHTML = "âŒ Å patnÄ›. Zkus to znovu. (Zisk se snÃ­Å¾il o 500 KÄ)";
    } else {
      vysledek.innerHTML = "<strong>ğŸ§  Domluv konzultaÄnÃ­ hodinu se svÃ½m matikÃ¡Å™em.</strong>";
    }
  }
}


function rozhodnutiPozar(volba) {
  // ZakÃ¡Å¾e tlaÄÃ­tka pro rozhodnutÃ­
  const tlacitka = document.querySelectorAll("#slidePozar .btn");
  tlacitka.forEach(btn => btn.disabled = true);

  const zprava = document.getElementById("zpravaPozar");

  if (volba === 'investovat') {
    zisk -= 500;
    riziko = Math.max(0, riziko - 10); // napÅ™. snÃ­Å¾enÃ­ rizika
    zprava.textContent = "Investovali jste do bezpeÄnosti. Zisk je nynÃ­ niÅ¾Å¡Ã­, ale riziko kolapsu kleslo.";
  } else {
    zisk += 500;
    riziko += 20;
    zprava.textContent = "UÅ¡etÅ™ili jste, ale riziko poÅ¾Ã¡ru vÃ½raznÄ› vzrostlo.";
  }

  aktualizuj();
}

    aktualizuj();
  </script>

</body>
</html>
