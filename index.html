<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Etick√© podnik√°n√≠</title>
  <style>
    body { 
      font-family: sans-serif; 
      padding: 20px; 
      background: #f2f2f2; 
      margin: 0; 
      box-sizing: border-box;
    }

    h1 {
      font-size: 2.5em;
      text-align: center;
      margin-bottom: 20px;
    }

    .stats { 
      margin-bottom: 20px; 
      text-align: center;
    }

    .stats p {
      font-size: 1.2em;
    }

    .decision { 
      margin-top: 20px;
      text-align: center;
    }

    .btn { 
      margin: 10px 0; 
      padding: 15px 20px; 
      background: #444; 
      color: white; 
      border: none; 
      cursor: pointer; 
      font-size: 1.2em;
      width: 100%;
    }

    .btn:hover { 
      background: #333; 
    }

    .hidden { 
      display: none; 
    }

    /* Responsive Design */
    @media (max-width: 600px) {
      body {
        padding: 15px;
      }

      h1 {
        font-size: 2em;
      }

      .btn {
        font-size: 1.2em;
        padding: 15px;
      }

      .stats p {
        font-size: 1.1em;
      }

      .decision button {
        width: 100%;
        margin-bottom: 10px;
      }
    }

  </style>
</head>
<body>

  <h1>Etick√© podnik√°n√≠</h1>

  <div class="stats">
    <p><strong>Zisk:</strong> <span id="zisk">0</span></p>
    <p><strong>Etika:</strong> <span id="etika">100</span> %</p>
    <p><strong>Riziko kolapsu:</strong> <span id="riziko">0</span> %</p>
  </div>

  <!-- Slide 1 -->
  <div id="slide1">
    <h2>Rozhodnut√≠ 1: Bezpeƒçnost</h2>
    <p>Sn√≠≈æ√≠≈° v√Ωdaje na po≈æ√°rn√≠ bezpeƒçnost a zdravotn√≠ p√©ƒçi o zamƒõstnance?</p>

    <div class="decision">
      <button class="btn" onclick="volba(true)">Ano ‚Äì u≈°et≈ô√≠m, ale sn√≠≈æ√≠m etiku</button>
      <button class="btn" onclick="volba(false)">Ne ‚Äì investuji, udr≈æ√≠m etiku</button>
    </div>
  </div>

  <div id="nextSlide" class="hidden">
    <button class="btn" onclick="jdiNaDalsi()">Pokraƒçovat</button>
  </div>

  <!-- Slide s √∫kolem -->
  <div id="slideUkol" class="hidden">
    <h2>√ökol: V√Ωpoƒçet</h2>
    <p>Vypoƒç√≠tej: Pokud zamƒõstn√°≈° 20 dƒõt√≠ a ka≈æd√©mu plat√≠≈° 10 Kƒç/hod a pracuj√≠ 10 hodin dennƒõ, kolik je to za den?</p>
    <input type="number" id="odpoved" placeholder="Zadej v√Ωsledek">
    <button class="btn" onclick="zpracujUkol()">Odeslat odpovƒõƒè</button>
    <p id="vysledek"></p>
  </div>

  <!-- Slide Po≈æ√°rn√≠ bezpeƒçnost -->
  <div id="slidePozar" class="hidden">
    <h2>Rozhodnut√≠ 2: Po≈æ√°rn√≠ bezpeƒçnost</h2>
    <p>Chce≈° investovat do zlep≈°en√≠ po≈æ√°rn√≠ bezpeƒçnosti ve sv√© tov√°rnƒõ?</p>
    <div class="decision">
      <button class="btn" onclick="rozhodnutiPozar('investovat')">Ano ‚Äì bezpeƒçnost na prvn√≠m m√≠stƒõ</button>
      <button class="btn" onclick="rozhodnutiPozar('setrit')">Ne ‚Äì u≈°et≈ô√≠m</button>
    </div>
    <p id="zpravaPozar"></p>
  </div>

  <script>
    let zisk = 0;
    let etika = 100;
    let riziko = 0;

    function aktualizuj() {
      document.getElementById("zisk").textContent = zisk;
      document.getElementById("etika").textContent = etika;
      document.getElementById("riziko").textContent = riziko;
    }

    function volba(snizitBezpecnost) {
      const tlacitka = document.querySelectorAll("#slide1 .btn");
      tlacitka.forEach(btn => btn.disabled = true);

      if (snizitBezpecnost) {
        zisk += 2000;
        etika -= 30;
        riziko += 20;
      } else {
        zisk += 500;
      }
      aktualizuj();
      document.getElementById("nextSlide").classList.remove("hidden");
    }

    function jdiNaDalsi() {
      document.getElementById("slide1").classList.add("hidden");
      document.getElementById("nextSlide").classList.add("hidden");
      document.getElementById("slideUkol").classList.remove("hidden");
    }

    let spatnePokusy = 0;

    function zpracujUkol() {
      const odpoved = parseInt(document.getElementById("odpoved").value, 10);
      const spravne = 20 * 10 * 10;
      const vysledek = document.getElementById("vysledek");

      if (odpoved === spravne) {
        vysledek.innerHTML = "‚úÖ <strong>BINGO!</strong> Pokraƒçuj d√°l.";
        zisk += 2000;
        aktualizuj();

        setTimeout(() => {
          document.getElementById("slideUkol").classList.add("hidden");
          document.getElementById("slidePozar").classList.remove("hidden");
        }, 2000);

      } else {
        spatnePokusy++;
        zisk -= 500;
        aktualizuj();

        if (zisk < 0 || etika < 0) {
          alert("üí• Kaput. Zaƒçni cel√Ω quest √∫plnƒõ od zaƒç√°tku.");
          location.reload();
          return;
        }

        if (spatnePokusy < 3) {
          vysledek.innerHTML = "‚ùå ≈†patnƒõ. Zkus to znovu. (Zisk se sn√≠≈æil o 500 Kƒç)";
        } else {
          vysledek.innerHTML = "<strong>üß† Domluv konzultaƒçn√≠ hodinu se sv√Ωm matik√°≈ôem.</strong>";
        }
      }
    }

    function rozhodnutiPozar(volba) {
      const tlacitka = document.querySelectorAll("#slidePozar .btn");
      tlacitka.forEach(btn => btn.disabled = true);

      const zprava = document.getElementById("zpravaPozar");

      if (volba === 'investovat') {
        zisk -= 500;
        riziko = Math.max(0, riziko - 10);
        zprava.textContent = "Investovali jste do bezpeƒçnosti. Zisk je nyn√≠ ni≈æ≈°√≠, ale riziko kolapsu kleslo.";
      } else {
        zisk += 500;
        riziko += 20;
        zprava.textContent = "U≈°et≈ôili jste, ale riziko po≈æ√°ru v√Ωraznƒõ vzrostlo.";
      }

      aktualizuj();
    }

    aktualizuj();
  </script>

</body>
</html>
